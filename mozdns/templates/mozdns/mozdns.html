{% extends "mozdns/mozdns_base.html" %}

{% block head %}
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}javascripts/jquery.tablesorter/jquery.tablesorter.js" type="text/javascript"></script>
    <script type="text/javascript" src="/static/javascripts/dns_form_utils.js"></script>
    <link rel="stylesheet" href="/static/css/smoothness/jquery-ui-1.8.11.custom.css" type="text/css" />
{% endblock %}

{% block content %}
    <script>
    $(document).ready(function(){
        if ($('#dns-data').attr('record_pk')){
            select_state('update'); // There is a pk, initial state is edit
        } else {
            select_state('create'); // Initial state is searching
        }
        $('#create-new').click(function(){select_state('create')});
    });
    </script>

    <div id='dns-data' record_type="{{record_type}}" record_pk="{{record_pk}}"></div>

    <span>Create new <a href="/mozdns/record/create/{{record_type}}/">{{record_type}}</a></span>


    <div id="form-area" style="display: none;">
        <div id="commit-dialog" style='display: none;'>
            <textarea id='commit-message'></textarea>
        </div>

        <label>Add commit message: <input type='checkbox' id='add-comment' value='' checked='checked'/></label>

        <div id="current-form-area">
        </div>
    </div>
{% endblock %}
