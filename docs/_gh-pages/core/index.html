

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>IPAM &mdash; Mozillas IT source of truth 0.01 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Mozillas IT source of truth 0.01 documentation" href="../" />
    <link rel="next" title="Site" href="../site/" />
    <link rel="prev" title="Static Interface" href="../staticinterface/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../site/" title="Site"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../staticinterface/" title="Static Interface"
             accesskey="P">previous</a> |</li>
        <li><a href="../">Mozillas IT source of truth 0.01 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ipam">
<span id="core"></span><h1>IPAM<a class="headerlink" href="#ipam" title="Permalink to this headline">¶</a></h1>
<p>A system that manages DNS and DHCP is useless without knowledge of the networks
the hosts using DNS and DHCP are located in. The core of inventory is it&#8217;s
<tt class="xref py py-class docutils literal"><span class="pre">Site</span></tt>s, <tt class="xref py py-class docutils literal"><span class="pre">Network</span></tt>s, and <tt class="xref py py-class docutils literal"><span class="pre">Range</span></tt>s.</p>
<div class="section" id="sites">
<h2>Sites<a class="headerlink" href="#sites" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../site/#site"><em>Site</em></a> represents a datacenter or a business unit. Much like
<a class="reference internal" href="../domain/#domain"><em>Domain</em></a>s are organized into a hierarchy with &#8216;master domains&#8217;, a site
can have a &#8216;parent site&#8217;.</p>
<div class="figure">
<img alt="../_images/mozcore_sites.png" src="../_images/mozcore_sites.png" />
</div>
<p>Here four sites are shown. Scl3 is the parent site of Releng and Phx1 is the
Parent site of Svc. If Relenge were also in Scl2, there would be another
instance of a site called Relenge that had a parent site of Scl2.</p>
</div>
<div class="section" id="networks">
<h2>Networks<a class="headerlink" href="#networks" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../network/#network"><em>Network</em></a> represents an IPv4/IPv6 network. Networks also related to eachother in a heirarchical way. Since networks are inherently contained within other networks, no explicit parent child relationship is stored in the database. Networks are homed in a site.</p>
<div class="figure">
<img alt="../_images/mozcore_networks.png" src="../_images/mozcore_networks.png" />
</div>
<p>Here networks are laid out along their logical CIDER boundaries. Multiple networks can
be associated with one site, but a network cannot be associated with multiple
sites.</p>
</div>
<div class="section" id="vlans">
<h2>Vlans<a class="headerlink" href="#vlans" title="Permalink to this headline">¶</a></h2>
<p>For the majority of cases, a network is associated with a <a class="reference internal" href="../vlan/#vlan"><em>VLAN</em></a>.</p>
<div class="figure">
<img alt="../_images/mozcore_all.png" src="../_images/mozcore_all.png" />
</div>
<p>Here networks are shown under vlans. A network can belong to zero or one vlan.
Many networks can belong to the same vlan.</p>
<p>The little red lines under the network objects are <a class="reference internal" href="../range/#range"><em>Range</em></a> objects.</p>
</div>
<div class="section" id="ranges">
<h2>Ranges<a class="headerlink" href="#ranges" title="Permalink to this headline">¶</a></h2>
<p>Range objects belong inside of a network; a range&#8217;s start number is greater than or equal to the
network address and the range&#8217;s end number is less than the broadcast address. Ranges are used to
help determine where free IP&#8217;s lay within a network, which is useful when creating a
<a class="reference internal" href="../staticinterface/#staticinterface"><em>Static Interface</em></a>.</p>
<p>Here is a beautiful depiction of a range and a network:</p>
<div class="highlight-python"><pre>Network:                    192.168.0.0/24
|--------------------------------------------------------------|
192.168.0.0                                                    192.168.0.255

Range:
            |-------------------------------------------------|
            192.168.0.10                                      192.168.0.254</pre>
</div>
<p>Ranges can be used as a pool of allocatable IP addresses. When a new <a class="reference internal" href="../staticinterface/#staticinterface"><em>Static Interface</em></a>
(seriously, read about these things) is created it needs an IP address and a range is where the
interface will look if the interface is to have it&#8217;s IP address assigned automatically.</p>
<div class="section" id="other-purposes">
<h3>Other Purposes<a class="headerlink" href="#other-purposes" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These features (as of 08/12/2012) are not implemented.</p>
</div>
<p>Ranges are multipurpose. For example a range can be used as a &#8216;dynamic&#8217; range. A dynamic range is a
pool ip addresses where wireless clients or other clients that don&#8217;t need a fixed addresses have
their IP assignment come from. In DHCP these dynamic ranges usually associated with a pool statement
that contains an <tt class="docutils literal"><span class="pre">allow</span></tt> clause. In DNS a dynamic range will usually have a long list of similar
names statically created for every ip in the range; for example <tt class="docutils literal"><span class="pre">GENERATE</span> <span class="pre">4-100</span>
<span class="pre">dynamic-$.vlan.mozilla.com</span></tt>. When you flag a range as &#8216;dynamic&#8217; the DNS build scripts will
automatically print these records when DNS zone files are generated.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">IPAM</a><ul>
<li><a class="reference internal" href="#sites">Sites</a></li>
<li><a class="reference internal" href="#networks">Networks</a></li>
<li><a class="reference internal" href="#vlans">Vlans</a></li>
<li><a class="reference internal" href="#ranges">Ranges</a><ul>
<li><a class="reference internal" href="#other-purposes">Other Purposes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../staticinterface/"
                        title="previous chapter">Static Interface</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../site/"
                        title="next chapter">Site</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/core.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../site/" title="Site"
             >next</a> |</li>
        <li class="right" >
          <a href="../staticinterface/" title="Static Interface"
             >previous</a> |</li>
        <li><a href="../">Mozillas IT source of truth 0.01 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright Mozilla Licence.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>